---
title: Slack ボットプラグインの開発
---


**この記事では、以下の内容を理解できます。**

Slack Bot の構築方法を深く理解し、AI を活用した Slack チャットボットを作成して、Slack プラットフォーム上でユーザーの質問にインテリジェントに応答する方法を学びます。

### プロジェクトの背景

Dify プラグインエコシステムは、よりシンプルで使いやすいアクセス方法のサポートに注力しています。この記事では、Slack を例に、Slack Bot プラグインの開発方法を詳しく紹介し、チームメンバーが Slack プラットフォーム内で直接 LLM と対話できるようにすることで、AI サービスの利用効率を向上させます。

Dify プラグインエコシステムは、よりシンプルで便利なアクセス方法を提供することを目指しています。この記事では、Slack を例に、Slack Bot プラグインの開発方法を詳しく解説し、チームメンバーが Slack プラットフォームで直接 AI アプリを利用できるようにすることで、業務効率を向上させます。

Slack は、豊富な API を備えた自由でオープンなリアルタイムオフィスコミュニプラットフォームです。特に、イベントメカニズムに基づいた Webhook 機能は、簡単に開発を始めることができます。このメカニズムを利用して Slack Bot プラグインを作成します。その原理は以下の図に示すとおりです。

![Slack Bot の原理図](https://assets-docs.dify.ai/2025/01/a0865d18f1ca4051601ca53fa6f92db2.png)

> 混乱を避けるため、以下に概念の説明をします。
>
> *   **Slack Bot** は、Slack プラットフォーム上のチャットボットであり、仮想的な役割と見なすことができ、チャットを通じてインタラクションできます。
> *   **Slack Bot プラグイン** は、Dify Marketplace のプラグインであり、Dify アプリと Slack プラットフォームを接続するために使用されます。この記事では、主にこのプラグインの開発について説明します。

**原理の概要：**

1.  **Slack Bot にメッセージを送信**

    ユーザーが Slack で Bot にメッセージを送信すると、Slack Bot は Dify プラットフォームに Webhook リクエストを送信します。
2.  **メッセージを Slack Bot プラグインに転送**

    ユーザーが Slack Bot と対話する際、メッセージを Dify アプリに転送する必要があります。メールシステムで受信者のメールアドレスが必要なように、Slack の API を使用して Slack Webhook のアドレスを設定し、それを Slack Bot プラグインに入力して接続を確立します。
3.  **プラグインがメッセージを受信した後、特定の Dify アプリに送信**

    Slack Bot プラグインは Slack リクエストを処理し、Dify のアプリに送信します。LLM がユーザーの入力を分析し、応答を提供します。
4.  **Dify アプリが応答した後、メッセージを Slack Bot に返し、ユーザーに応答**

    Slack Bot は Dify アプリからの応答を取得した後、プラグインを介してメッセージを Slack Bot に返します。これにより、ユーザーは Dify アプリと直接やり取りできます。

### 事前準備

*   Dify プラグインスキャフォールディングツール。詳細については、[開発ツールの初期化](/ja-jp/plugins/quick-start/develop-plugins/initialize-development-tools)を参照してください。
*   Python 環境。バージョンは 3.12 以上である必要があります。詳細については、[Pythonインストールチュートリアル](https://pythontest.com/python/installing-python-3-11/)を参照するか、LLM に完全なインストールチュートリアルを問い合わせてください。
*   Slack App を作成し、OAuth トークンを取得します。

[Slack API](https://api.slack.com/apps) プラットフォームにアクセスし、scratch 方式で Slack App を作成し、アプリをデプロイする Slack ワークスペースを選択します。

![Slack APIトークン](https://assets-docs.dify.ai/2025/01/8217c23ee16c47c586a1387a442ea6f0.png)

;Webhooks 機能を有効にします。

![Webhooks機能を有効にする](https://assets-docs.dify.ai/2025/01/fc9d7797608422219a01248f7151fc81.png)

App を Slack ワークスペースにインストールします。

![ワークスペースにインストール](https://assets-docs.dify.ai/2025/01/6ab7226078f88853fc7f4d3520245d63.png)

今後のプラグイン開発に使用する OAuth トークンを取得します。

![OAuthトークンを取得](https://assets-docs.dify.ai/2025/01/f08052044c8c17eebbffacdc9b2558e6.png)

### 1. プラグイン開発

それでは、実際にプラグインのコーディング作業を始めましょう。その前に、[クイックスタート：Extensionプラグインの開発](/ja-jp/plugins/quick-start/develop-plugins/extension-plugin) をお読みいただくか、Difyプラグインの開発経験があることをご確認ください。

#### プロジェクトの初期化

以下のコマンドを実行して、プラグイン開発プロジェクトを初期化します。

```bash
dify plugin init
```

プロンプトに従い、プロジェクトの基本情報を入力し、`extension` テンプレートを選択してください。そして、`Apps` と `Endpoints` の2つの権限を付与します。

プラグインからDifyプラットフォームの機能を呼び出す方法については、[逆呼び出し：App](/ja-jp/plugins/schema-definition/reverse-invocation-of-the-dify-service/app) を参照してください。

![Plugins permission](https://assets-docs.dify.ai/2024/12/d89a6282c5584fc43a9cadeddf09c0de.png)

#### 1. 設定フォームの編集

このプラグインでは、どのDifyのAppを使って応答するかを指定する必要があり、さらに、応答時にSlackのAppトークンを使用する必要があるため、プラグインフォームにこれらの2つのフィールドを追加します。

`group` ディレクトリにあるyamlファイルを編集します。例：`group/slack.yaml`。フォーム設定ファイルの名前は、プラグイン作成時に入力した基本情報によって決まります。対応するyamlファイルを変更してください。

（以下内容保持不变）

### 参考資料

Difyプラグインの完全なプロジェクトコードを確認するには、[Githubコードリポジトリ](https://github.com/langgenius/dify-plugins)にアクセスしてください。他のプラグインの完全なコードや詳細も確認できます。

プラグインの詳細については、以下を参照してください。

**クイックスタート：**

* [拡張タイププラグインの開発](/ja-jp/plugins/quick-start/develop-plugins/extension-plugin)
* [モデルタイププラグインの開発](/ja-jp/plugins/quick-start/develop-plugins/model-plugin/)
* [バンドルタイププラグイン：複数のプラグインをパッケージ化](/ja-jp/plugins/quick-start/develop-plugins/bundle)

**プラグインインターフェースドキュメント：**

* [マニフェスト](/ja-jp/plugins/schema-definition/manifest)
* [エンドポイント](/ja-jp/plugins/schema-definition/endpoint)
* [Difyサービスの逆呼び出し](/ja-jp/plugins/schema-definition/reverse-invocation-of-the-dify-service/)
* [ツール](/ja-jp/guides/tools/)
* [モデル](/ja-jp/plugins/schema-definition/model/model-schema)
